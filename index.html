<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互動式報告：5G/6G於智慧運輸系統之技術前沿</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Amber Neutrals -->
    <!-- Application Structure Plan: The application is structured into four thematic, scrollable sections rather than mirroring the report's chapters. This allows users to explore concepts in a more logical, comparative flow. The sections are: 1) 5G Service Evolution (comparing base 5G vs. B5G), 2) C-V2X Standardization (an interactive timeline), 3) Advanced Applications (exploring algorithms via interactive diagrams), and 4) The Future with 6G/ISAC (presenting KPIs and the vision). A sticky navigation bar allows for quick jumps between these themes. This task-oriented, thematic structure enhances usability by grouping related information and allowing non-linear exploration, which is more intuitive for understanding complex technological relationships than a linear document. -->
    <!-- Visualization & Content Choices: 
        - Report Info: 5G vs B5G Service Comparison -> Goal: Compare -> Viz: Interactive Bar Chart (Chart.js) -> Interaction: Hover for details -> Justification: Bar charts are excellent for comparing discrete categories across multiple metrics (latency, reliability, etc.). Interactivity provides details on demand without cluttering the view.
        - Report Info: C-V2X Standardization Path -> Goal: Show Change/Process -> Viz: Interactive HTML/Tailwind Timeline -> Interaction: Click on a Release to see details -> Justification: A visual timeline is more intuitive for understanding chronological evolution than text. Click-to-reveal keeps the initial view clean.
        - Report Info: Collaborative Perception Fusion Strategies -> Goal: Compare/Organize -> Viz: Interactive HTML/Tailwind Diagram -> Interaction: Click on a strategy to highlight it and view its description -> Justification: A visual diagram clearly shows the trade-offs between bandwidth and performance for the three fusion strategies.
        - Report Info: ISAC Application KPIs -> Goal: Inform/Compare -> Viz: Interactive Radar Chart (Chart.js) -> Interaction: Dropdown to select different applications and update the chart -> Justification: Radar charts are effective for comparing multiple quantitative KPIs for different items (applications), showing their performance profile at a glance.
        - Report Info: Key concepts and text -> Goal: Inform -> Viz: Styled Text Blocks with Icons -> Interaction: Static display within thematic sections -> Justification: Clear, well-organized text is essential for providing context to the visualizations. Icons help break up text and add visual cues.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #334155; /* slate-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            color: #f59e0b; /* amber-500 */
            border-bottom-color: #f59e0b; /* amber-500 */
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 12px;
            bottom: -12px;
            width: 2px;
            background-color: #cbd5e1; /* slate-300 */
        }
        .timeline-item:last-child::before {
            display: none;
        }
        .timeline-dot {
            position: absolute;
            left: 0;
            top: 12px;
            transform: translateX(-50%);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: #f8fafc; /* slate-50 */
            border: 2px solid #cbd5e1; /* slate-300 */
            transition: all 0.3s ease;
        }
        .timeline-item.active .timeline-dot {
            background-color: #f59e0b; /* amber-500 */
            border-color: #f59e0b; /* amber-500 */
        }
        .fusion-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .fusion-card.active {
            border-color: #f59e0b; /* amber-500 */
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .fusion-card:not(.active) {
            opacity: 0.6;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-20">
                <h1 class="text-xl md:text-2xl font-bold text-slate-800">5G/6G 智慧運輸技術前沿</h1>
                <button id="mobile-menu-button" class="md:hidden text-slate-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>
        <nav id="navigation-menu" class="w-full bg-white md:bg-transparent shadow-md md:shadow-none absolute md:static -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out">
            <div class="container mx-auto px-4 md:border-t border-slate-200">
                <div id="nav-buttons-container" class="flex flex-col md:flex-row md:items-center md:space-x-8 py-2 md:py-0">
                    <button data-target="evolution" class="nav-button text-left md:text-center py-3 md:py-4 px-2 border-b-2 border-transparent text-slate-600 hover:text-amber-500 font-medium active">5G服務演進</button>
                    <button data-target="standards" class="nav-button text-left md:text-center py-3 md:py-4 px-2 border-b-2 border-transparent text-slate-600 hover:text-amber-500 font-medium">C-V2X標準化歷程</button>
                    <button data-target="applications" class="nav-button text-left md:text-center py-3 md:py-4 px-2 border-b-2 border-transparent text-slate-600 hover:text-amber-500 font-medium">先進演算法應用</button>
                    <button data-target="future" class="nav-button text-left md:text-center py-3 md:py-4 px-2 border-b-2 border-transparent text-slate-600 hover:text-amber-500 font-medium">展望6G：ISAC</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="evolution" class="content-section active">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">從5G服務三角到B5G混合服務</h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-600">
                    初代5G定義了三大服務場景，但先進的自動駕駛需要混合多種特性。為此，「超越5G」(B5G)的研究催生了更具彈性的混合服務類別，以應對複雜的ITS需求。下圖比較了各服務類別在關鍵效能指標上的目標。
                </p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <div class="chart-container">
                    <canvas id="b5gChart"></canvas>
                </div>
            </div>
        </section>

        <section id="standards" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">C-V2X 標準化歷程</h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-600">
                    C-V2X的標準由3GPP主導，從Rel 14的LTE-V2X到Rel 16引入的NR-V2X，再到5G-Advanced的持續增強，這條演進路徑為日益複雜的車輛應用提供了協定基礎。點擊下方時間軸上的版本，查看其關鍵功能。
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-start">
                <div class="md:col-span-1 relative">
                    <div id="timeline-container" class="space-y-8 pl-8">
                    </div>
                </div>
                <div id="timeline-details" class="md:col-span-2 bg-white p-6 rounded-xl shadow-lg min-h-[300px]">
                </div>
            </div>
        </section>

        <section id="applications" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">高效能V2X驅動的先進演算法</h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-600">
                    高效能的V2X通訊是實現協同感知、高精地圖即時更新與AI交通管理等先進演算法的基礎。這些演算法透過車輛間的協作，將智慧運輸推向新高度。
                </p>
            </div>
            
            <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-2">協同感知：融合策略的權衡</h3>
                <p class="text-slate-600 mb-6">協同感知讓車輛共享感測器資料以克服單車感知極限。不同的融合策略在通訊頻寬需求與感知效能間存在權衡。點擊下方卡片以了解詳情。</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div id="fusion-early" class="fusion-card border-2 border-slate-200 p-4 rounded-lg bg-slate-50">
                        <h4 class="font-bold text-lg text-slate-700">早期融合</h4>
                        <p class="text-sm text-slate-500">原始資料融合</p>
                    </div>
                    <div id="fusion-intermediate" class="fusion-card border-2 border-slate-200 p-4 rounded-lg bg-slate-50">
                        <h4 class="font-bold text-lg text-slate-700">中期融合</h4>
                        <p class="text-sm text-slate-500">特徵級融合</p>
                    </div>
                    <div id="fusion-late" class="fusion-card border-2 border-slate-200 p-4 rounded-lg bg-slate-50">
                        <h4 class="font-bold text-lg text-slate-700">晚期融合</h4>
                        <p class="text-sm text-slate-500">物件級融合</p>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 items-center p-4 bg-slate-100 rounded-lg">
                    <div class="md:col-span-2">
                        <p id="fusion-desc" class="text-slate-700"></p>
                    </div>
                    <div class="md:col-span-3 flex flex-col items-center space-y-2">
                         <div class="w-full text-center">
                            <span class="font-semibold">低</span>
                            <div class="w-full bg-slate-200 rounded-full h-2.5 my-1">
                                <div id="fusion-bandwidth-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-500"></div>
                            </div>
                            <span class="font-semibold">高</span>
                            <p class="text-sm font-bold text-slate-600 mt-1">通訊頻寬需求</p>
                        </div>
                        <div class="w-full text-center">
                            <span class="font-semibold">低</span>
                            <div class="w-full bg-slate-200 rounded-full h-2.5 my-1">
                                <div id="fusion-performance-bar" class="bg-amber-500 h-2.5 rounded-full transition-all duration-500"></div>
                            </div>
                            <span class="font-semibold">高</span>
                            <p class="text-sm font-bold text-slate-600 mt-1">感知效能潛力</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="future" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">展望6G：整合式感測與通訊 (ISAC)</h2>
                <p class="max-w-3xl mx-auto text-lg text-slate-600">
                    ISAC是6G的核心典範，將無線網路從被動的資料管道轉變為主動的環境感知器。這項技術將催生革命性的汽車應用，但同時也對感測效能提出了極其嚴苛的要求。
                </p>
            </div>
             <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">
                    <h3 class="text-2xl font-bold text-slate-800">ISAC 應用場景效能指標 (KPI)</h3>
                    <div class="flex items-center gap-2">
                        <label for="isac-selector" class="font-medium text-slate-700">選擇應用場景:</label>
                        <select id="isac-selector" class="bg-slate-100 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2.5">
                        </select>
                    </div>
                </div>
                <p class="text-slate-600 mb-6 text-center md:text-left">不同的ISAC應用對感測效能有不同的要求。使用下拉選單查看各應用在距離、速度、角度解析度等關鍵指標上的差異。數值越高代表要求越嚴苛。</p>
                <div class="chart-container">
                    <canvas id="isacChart"></canvas>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="bg-slate-800 text-slate-400 mt-16">
        <div class="container mx-auto p-8 text-center">
            <p>本互動式報告根據「5G與6G於智慧運輸系統之技術前沿」綜合分析報告製作。</p>
            <p class="text-sm mt-2">僅供學術研究與技術探討使用。</p>
        </div>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const navData = {
                evolution: { title: "5G服務演進" },
                standards: { title: "C-V2X標準化歷程" },
                applications: { title: "先進演算法應用" },
                future: { title: "展望6G：ISAC" },
            };

            const timelineData = {
                rel14: {
                    year: "2017",
                    name: "Release 14",
                    title: "奠基：LTE-V2X 誕生",
                    description: "首次引入基於LTE的C-V2X標準，為基礎安全應用提供通訊能力。核心是定義了PC5「側鏈」(Sidelink)介面，一種無需依賴基地台的D2D直接通訊模式。",
                    features: ["基礎V2V, V2I, V2P", "PC5 Sidelink 介面", "支援高速移動 (250km/h)"]
                },
                rel15: {
                    year: "2018",
                    name: "Release 15",
                    title: "增強與準備",
                    description: "持續增強LTE-V2X功能，並正式引入5G NR的整體框架。標準化了對GNSS-RTK的輔助資料傳輸，使定位精度達到公分等級。",
                    features: ["提升PC5傳輸量", "引入5G NR框架", "GNSS-RTK 輔助"]
                },
                rel16: {
                    year: "2020",
                    name: "Release 16",
                    title: "飛躍：NR-V2X 正式確立",
                    description: "標誌著C-V2X的重大飛躍，正式確立基於5G NR的V2X規範，為感測器共享、協同操控等進階應用開闢了技術路徑。",
                    features: ["更低延遲、更高可靠性", "支援單播與群播", "更高階調變 (256-QAM)"]
                },
                rel17: {
                    year: "2022",
                    name: "Release 17",
                    title: "擴展與優化",
                    description: "主要聚焦於擴展應用場景與提升網路效率，特別針對弱勢道路使用者(VRU)的裝置進行了功耗優化。",
                    features: ["VRU 節能機制", "定位功能增強", "URLLC 頻譜效率提升"]
                },
                rel18: {
                    year: "2023+",
                    name: "Release 18 (5G-Advanced)",
                    title: "智慧化整合",
                    description: "作為「5G-Advanced」的開端，將AI/ML更深層地整合到網路中，並引入了基於PC5的直接定位方法。",
                    features: ["AI/ML 整合", "基於PC5的定位 (TDoA/AoA)", "支援非地面網路 (NTN)"]
                },
            };

            const fusionData = {
                'fusion-early': {
                    title: "早期融合 (原始資料融合)",
                    desc: "車輛直接共享未經處理的原始感測器資料（如光達點雲）。此方式資訊最完整，理論上感知效果最佳，但通訊頻寬消耗巨大，目前尚不實際。",
                    bandwidth: 95,
                    performance: 95
                },
                'fusion-intermediate': {
                    title: "中期融合 (特徵級融合)",
                    desc: "車輛提取關鍵特徵（如深度學習特徵圖）後共享。這是當前最具潛力的方向，在頻寬和效能間取得了良好平衡。",
                    bandwidth: 50,
                    performance: 80
                },
                'fusion-late': {
                    title: "晚期融合 (物件級融合)",
                    desc: "每輛車獨立完成感知，僅共享最終的物件列表。頻寬效率極高，但丟失了大量情境資訊，且錯誤會在融合時累積。",
                    bandwidth: 10,
                    performance: 40
                }
            };

            const isacData = {
                'AVP': {
                    label: '自動代客泊車 (AVP)',
                    data: [50, 1.5, 5.55, 0.1, 1, 10],
                    normalized: [20, 80, 10, 90, 90, 50]
                },
                'Intersection': {
                    label: '十字路口移動輔助',
                    data: [250, 1.5, 28, 0.1, 1, 10],
                    normalized: [60, 80, 50, 90, 90, 50]
                },
                'VRU': {
                    label: 'VRU 保護',
                    data: [250, 1.5, 16.67, 0.1, 1, 10],
                    normalized: [60, 80, 30, 90, 90, 50]
                },
                'ADAS': {
                    label: 'ADAS 單基站感測',
                    data: [300, 40, 70, 0.6, 9, 50],
                    normalized: [70, 20, 95, 40, 20, 95]
                },
                'Parking': {
                    label: '停車場管理',
                    data: [1000, 0.5, 5.55, null, null, null],
                    normalized: [100, 95, 10, 0, 0, 0]
                }
            };
            
            const isacLabels = ['最大偵測距離', '距離準確度(越低越好)', '最大速度', '速度解析度(越低越好)', '方位角解析度(越低越好)', '更新率'];

            let b5gChartInstance, isacChartInstance;
            
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const navigationMenu = document.getElementById('navigation-menu');

            mobileMenuButton.addEventListener('click', () => {
                navigationMenu.classList.toggle('-translate-x-full');
            });

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    contentSections.forEach(section => {
                        if (section.id === targetId) {
                            section.classList.add('active');
                        } else {
                            section.classList.remove('active');
                        }
                    });
                    
                    if (navigationMenu.classList.contains('-translate-x-full') === false) {
                        navigationMenu.classList.add('-translate-x-full');
                    }

                    if (targetId === 'evolution' && !b5gChartInstance) createB5GChart();
                    if (targetId === 'future' && !isacChartInstance) createISACChart();
                });
            });

            function createB5GChart() {
                const ctx = document.getElementById('b5gChart').getContext('2d');
                const data = {
                    labels: ['目標延遲 (ms, 越低越好)', '目標可靠性 (%)', '目標資料速率 (Gbps)', '目標連接密度 (裝置/km²)'],
                    datasets: [
                        {
                            label: '5G URLLC',
                            data: [1, 99.999, 0.5, 500000],
                            backgroundColor: 'rgba(59, 130, 246, 0.6)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '寬頻URLLC',
                            data: [4, 99.999, 10, 800000],
                            backgroundColor: 'rgba(234, 179, 8, 0.6)',
                            borderColor: 'rgba(234, 179, 8, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '可擴展URLLC',
                            data: [10, 99.999, 1, 1000000],
                            backgroundColor: 'rgba(16, 185, 129, 0.6)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '極致URLLC',
                            data: [0.5, 99.9999999, 5, 800000],
                            backgroundColor: 'rgba(239, 68, 68, 0.6)',
                            borderColor: 'rgba(239, 68, 68, 1)',
                            borderWidth: 1
                        }
                    ]
                };
                b5gChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        scales: {
                            x: {
                                type: 'logarithmic',
                                title: {
                                    display: true,
                                    text: '效能指標值 (對數尺度)'
                                }
                            },
                            y: {
                                ticks: {
                                    autoSkip: false
                                }
                            }
                        },
                        plugins: {
                            title: {
                                display: true,
                                text: '5G與B5G服務架構關鍵特性比較',
                                font: { size: 18 }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.x !== null) {
                                            let value = context.dataset.data[context.dataIndex];
                                            label += value.toLocaleString();
                                            if (context.label.includes('%')) {
                                                label += '%';
                                            }
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function setupTimeline() {
                const container = document.getElementById('timeline-container');
                const detailsContainer = document.getElementById('timeline-details');
                
                Object.keys(timelineData).forEach((key, index) => {
                    const item = timelineData[key];
                    const div = document.createElement('div');
                    div.className = 'timeline-item relative pl-8 pb-8';
                    div.dataset.key = key;
                    div.innerHTML = `
                        <div class="timeline-dot"></div>
                        <p class="text-sm font-semibold text-amber-600">${item.year}</p>
                        <h4 class="font-bold text-slate-800 text-lg">${item.name}</h4>
                        <p class="text-slate-500">${item.title}</p>
                    `;
                    container.appendChild(div);

                    div.addEventListener('click', () => {
                        updateTimelineDetails(key);
                        document.querySelectorAll('.timeline-item').forEach(el => el.classList.remove('active'));
                        div.classList.add('active');
                    });
                });
                
                updateTimelineDetails(Object.keys(timelineData)[0]);
                container.querySelector('.timeline-item').classList.add('active');
            }

            function updateTimelineDetails(key) {
                const detailsContainer = document.getElementById('timeline-details');
                const item = timelineData[key];
                let featuresHtml = item.features.map(feature => `
                    <li class="flex items-start">
                        <span class="text-green-500 mr-2 mt-1">✓</span>
                        <span>${feature}</span>
                    </li>
                `).join('');

                detailsContainer.innerHTML = `
                    <h3 class="text-2xl font-bold text-slate-900 mb-2">${item.name}: ${item.title}</h3>
                    <p class="text-slate-600 mb-4">${item.description}</p>
                    <h4 class="font-semibold text-slate-700 mb-2">關鍵增強功能：</h4>
                    <ul class="space-y-2 text-slate-600">
                        ${featuresHtml}
                    </ul>
                `;
            }

            function setupFusion() {
                const cards = document.querySelectorAll('.fusion-card');
                cards.forEach(card => {
                    card.addEventListener('click', () => {
                        updateFusionDetails(card.id);
                        cards.forEach(c => c.classList.remove('active'));
                        card.classList.add('active');
                    });
                });
                updateFusionDetails('fusion-intermediate');
                document.getElementById('fusion-intermediate').classList.add('active');
            }

            function updateFusionDetails(id) {
                const data = fusionData[id];
                document.getElementById('fusion-desc').textContent = data.desc;
                document.getElementById('fusion-bandwidth-bar').style.width = data.bandwidth + '%';
                document.getElementById('fusion-performance-bar').style.width = data.performance + '%';
            }

            function createISACChart() {
                const ctx = document.getElementById('isacChart').getContext('2d');
                const selector = document.getElementById('isac-selector');
                
                Object.keys(isacData).forEach(key => {
                    const option = document.createElement('option');
                    option.value = key;
                    option.textContent = isacData[key].label;
                    selector.appendChild(option);
                });
                
                selector.addEventListener('change', (e) => {
                    updateISACChart(e.target.value);
                });

                isacChartInstance = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: isacLabels,
                        datasets: [{
                            label: '',
                            data: [],
                            fill: true,
                            backgroundColor: 'rgba(251, 191, 36, 0.2)',
                            borderColor: 'rgb(251, 191, 36)',
                            pointBackgroundColor: 'rgb(251, 191, 36)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgb(251, 191, 36)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        elements: {
                            line: {
                                borderWidth: 3
                            }
                        },
                        scales: {
                            r: {
                                angleLines: {
                                    display: true
                                },
                                suggestedMin: 0,
                                suggestedMax: 100,
                                pointLabels: {
                                    font: {
                                        size: 12
                                    }
                                },
                                ticks: {
                                    backdropColor: 'rgba(255, 255, 255, 0.75)',
                                    stepSize: 20
                                }
                            }
                        },
                        plugins: {
                           tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const originalValue = isacData[selector.value].data[context.dataIndex];
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        label += `標準化值: ${context.formattedValue}`;
                                        if (originalValue !== null) {
                                            label += ` (原始值: ${originalValue})`;
                                        } else {
                                            label += ` (原始值: N/A)`;
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
                
                updateISACChart(selector.value);
            }

            function updateISACChart(key) {
                if (!isacChartInstance) return;
                const data = isacData[key];
                isacChartInstance.data.datasets[0].data = data.normalized;
                isacChartInstance.data.datasets[0].label = data.label;
                isacChartInstance.update();
            }

            createB5GChart();
            setupTimeline();
            setupFusion();
            createISACChart();
            
            document.querySelector('.nav-button[data-target="evolution"]').click();
        });
    </script>
</body>
</html>
